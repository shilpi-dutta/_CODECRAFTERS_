<!DOCTYPE html>  <html lang="en">  
<head>  
  <meta charset="UTF-8">  
  <title>Jharkhand Chatbot</title>  
  <style>
    :root{
          --accent:#2e7d32;
          --bg:#f4f4f9;
          --panel:#ffffff;
          --muted:#f1f3f5;
          --text:#222;
        }
        html,body{height:100%;margin:0;font-family:Inter, Arial, sans-serif;background:var(--bg);color:var(--text)}
        /* full page chatbot container */
        .chatbot{
          position:fixed;inset:0;display:flex;flex-direction:column;background:var(--panel);
          box-shadow:0 6px 30px rgba(17,24,39,0.12);overflow:hidden
        }
        .chatbot-header{
          background:linear-gradient(90deg,var(--accent),#1b5e20);color:#fff;padding:14px 18px;display:flex;align-items:center;gap:12px
        }
        .chatbot-title{font-weight:700;font-size:18px}
        .chatbot-sub{opacity:0.9;font-size:13px}
        .chat-controls{margin-left:auto;display:flex;gap:8px;align-items:center}
        .lang-select, .voice-select{padding:6px;border-radius:6px;border:1px solid #e6e6e6;background:#fff;font-size:13px}
        .chatbot-main{display:flex;flex:1;min-height:0}
        .chatbot-messages{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:10px;background:linear-gradient(180deg, #fafafa, #fff)}
        .chatbot-messages .bubble{max-width:75%;padding:10px 12px;border-radius:12px;font-size:15px;line-height:1.4}
        .bubble.bot{background:var(--muted);align-self:flex-start}
        .bubble.user{background:linear-gradient(90deg,#c8e6c9,#b2dfbb);align-self:flex-end}
        .chatbot-input{display:flex;padding:12px;border-top:1px solid #eee;gap:8px;background:#fff}
        .chatbot-input input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #e6e6e6;font-size:15px}
        .chatbot-input button{background:var(--accent);color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer}
        .meta-note{font-size:12px;color:#666;margin-left:6px}

        /* Responsive */
        @media (max-width:720px){
          .chatbot-header{padding:12px}
          .chatbot-title{font-size:16px}
          .chatbot-input input{font-size:14px}
        }
      </style>
    </head>
    <body>
      <div class="chatbot" role="application" aria-label="Jharkhand Chatbot">
        <div class="chatbot-header">
          <div>
            <div class="chatbot-title">Jharkhand Chatbot ЁЯМР</div>
            <div class="chatbot-sub">Ask about places, culture, food and wildlife</div>
          </div>
          <div class="chat-controls">
            <select id="lang" class="lang-select" aria-label="Language selector">
              <option value="en-IN">English</option>
              <option value="hi-IN">Hindi</option>
              <option value="bn-IN">Bengali</option>
              <option value="or-IN">Odia</option>
              <option value="mr-IN">Marathi</option>
              <option value="ta-IN">Tamil</option>
            </select>
            <select id="voice" class="voice-select" aria-label="Voice selector">
              <option value="">(default voice)</option>
            </select>
          </div>
        </div>

        <div class="chatbot-main">
          <div class="chatbot-messages" id="messages" aria-live="polite" aria-atomic="false"></div>
        </div>

        <div class="chatbot-input">
          <input type="text" id="userInput" placeholder="Type a question about Jharkhand and press Enter..." aria-label="Message input">
          <button id="sendBtn">Send</button>
        </div>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', ()=>{
          const messages = document.getElementById('messages');
          const userInput = document.getElementById('userInput');
          const langSelect = document.getElementById('lang');
          const voiceSelect = document.getElementById('voice');
          const sendBtn = document.getElementById('sendBtn');

          // Knowledge base (expandable)
          const info = {
            en: { intro: "Jharkhand is a mineral-rich state in eastern India, full of forests, waterfalls, and tribal heritage. Famous places: Netarhat, Patratu, Hundru Falls, Betla National Park, Deoghar.", culture: "Jharkhand is famous for tribal festivals like Sarhul, Karma, Sohrai, and dances like Chhau. Handicrafts and folk music are integral.", food: "Popular dishes: Thekua, Dhuska, Rugra curry, Chilka roti, Handia (rice beer).", economy: "Jharkhand is known as the тАШLand of Forests and MineralsтАЩ. It produces coal, iron, copper, bauxite, and mica. Industries: steel, power, textiles.", wildlife: "Important wildlife areas: Betla National Park, Dalma Wildlife Sanctuary, Hazaribagh Wildlife Sanctuary with elephants, tigers, and deer." },
            hi: { intro: "рдЭрд╛рд░рдЦрдВрдб рдЦрдирд┐рдЬ рд╕рдВрдкрджрд╛ рд╕реЗ рднрд░рдкреВрд░ рдкреВрд░реНрд╡реА рднрд╛рд░рдд рдХрд╛ рд░рд╛рдЬреНрдп рд╣реИ, рдЬреЛ рдЬрдВрдЧрд▓реЛрдВ, рдЭрд░рдиреЛрдВ рдФрд░ рдЖрджрд┐рд╡рд╛рд╕реА рд╕рдВрд╕реНрдХреГрддрд┐ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рд┐рджреНрдз рд╣реИред рдкреНрд░рдореБрдЦ рд╕реНрдерд▓: рдиреЗрддрд░рд╣рд╛рдЯ, рдкрддрд░рд╛рддреБ, рд╣реБрдВрдбрд░реВ рдЬрд▓рдкреНрд░рдкрд╛рдд, рдмреЗрдЯрд▓рд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдЙрджреНрдпрд╛рди, рджреЗрд╡рдШрд░ред", culture: "рдЭрд╛рд░рдЦрдВрдб рд╕рд░рд╣реБрд▓, рдХрд░рдорд╛, рд╕реЛрд╣рд░рд╛рдп рдЬреИрд╕реЗ рддреНрдпреЛрд╣рд╛рд░реЛрдВ рдФрд░ рдЫрдК рдиреГрддреНрдп, рд╣рд╕реНрддрд╢рд┐рд▓реНрдк рдФрд░ рд▓реЛрдХ рд╕рдВрдЧреАрдд рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рд┐рджреНрдз рд╣реИред", food: "рдкреНрд░рд╕рд┐рджреНрдз рд╡реНрдпрдВрдЬрди: рдареЗрдХреБрдЖ, рдзреБрд╕рдХрд╛, рд░реБрдЧрд░реБ рд╕рдмреНрдЬрд╝реА, рдЪрд┐рд▓рдХрд╛ рд░реЛрдЯреА, рд╣рд╛рдВрдбрд┐рдпрд╛ (рдЪрд╛рд╡рд▓ рдХреА рдмреАрдпрд░)ред", economy: "рдЭрд╛рд░рдЦрдВрдб рдХреЛ 'рдЬрдВрдЧрд▓ рдФрд░ рдЦрдирд┐рдЬреЛрдВ рдХреА рднреВрдорд┐' рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдХреЛрдпрд▓рд╛, рд▓реЛрд╣рд╛, рддрд╛рдВрдмрд╛, рдмрд╛рдХреНрд╕рд╛рдЗрдЯ рдФрд░ рдЕрднреНрд░рдХ рдХрд╛ рдкреНрд░рдореБрдЦ рдЙрддреНрдкрд╛рджрдХ рд╣реИред рдЗрд╕реНрдкрд╛рдд, рдКрд░реНрдЬрд╛ рдФрд░ рд╡рд╕реНрддреНрд░ рдЙрджреНрдпреЛрдЧ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВред", wildlife: "рдореБрдЦреНрдп рд╡рдиреНрдпрдЬреАрд╡ рдХреНрд╖реЗрддреНрд░: рдмреЗрдЯрд▓рд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдЙрджреНрдпрд╛рди, рджрд▓рдорд╛ рдЕрднрдпрд╛рд░рдгреНрдп, рд╣рдЬрд╛рд░реАрдмрд╛рдЧ рдЕрднрдпрд╛рд░рдгреНрдп тАУ рд╣рд╛рдереА, рдмрд╛рдШ рдФрд░ рд╣рд┐рд░рдг рдкрд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред" },
            bn: { intro: "ржЭрж╛ржбрж╝ржЦржгрзНржб ржкрзВрж░рзНржм ржнрж╛рж░рждрзЗрж░ ржПржХржЯрж┐ ржЦржирж┐ржЬ рж╕ржорзГржжрзНржз рж░рж╛ржЬрзНржп, ржпрзЗржЦрж╛ржирзЗ ржЕрж░ржгрзНржп, ржЬрж▓ржкрзНрж░ржкрж╛ржд ржПржмржВ ржЖржжрж┐ржмрж╛рж╕рзА рж╕ржВрж╕рзНржХрзГрждрж┐ рж░ржпрж╝рзЗржЫрзЗред ржмрж┐ржЦрзНржпрж╛ржд рж╕рзНржерж╛ржи: ржирзЗрждрж╛рж░рж╣рж╛ржЯ, ржкрж╛рждрзНрж░рж╛рждрзБ, рж╣рзБржирзНржжрзНрж░рзБ ржЬрж▓ржкрзНрж░ржкрж╛ржд, ржмрзЗрждрж▓рж╛ ржирзНржпрж╛рж╢ржирж╛рж▓ ржкрж╛рж░рзНржХ, ржжрзЗржУржШрж░ред", culture: "ржЭрж╛ржбрж╝ржЦржгрзНржб рж╕рж░рж╣рзБрж▓, ржХрж░ржо, рж╕рзЛрж╣рж╛рж░рж╛ржЗ ржЙрзОрж╕ржм ржПржмржВ ржЫрзМ ржирзГрждрзНржп, рж╣рж╕рзНрждрж╢рж┐рж▓рзНржк ржУ рж▓рзЛржХрж╕ржЩрзНржЧрзАрждрзЗрж░ ржЬржирзНржп ржмрж┐ржЦрзНржпрж╛рждред", food: "ржЬржиржкрзНрж░рж┐ржпрж╝ ржЦрж╛ржмрж╛рж░: ржерзЗржХрзБржпрж╝рж╛, ржзрзБрж╕ржХрж╛, рж░рзБржЧрж░рж╛ рждрж░ржХрж╛рж░рж┐, ржЪрж┐рж▓ржХрж╛ рж░рзБржЯрж┐, рж╣рж╛ржБржбрж╝рж┐ржпрж╝рж╛ред", economy: "ржЭрж╛ржбрж╝ржЦржгрзНржбржХрзЗ 'ржЕрж░ржгрзНржп ржУ ржЦржирж┐ржЬрзЗрж░ ржнрзВржорж┐' ржмрж▓рж╛ рж╣ржпрж╝ред ржПржЯрж┐ ржХржпрж╝рж▓рж╛, рж▓рзЛрж╣рж╛, рждрж╛ржорж╛, ржмржХрзНрж╕рж╛ржЗржЯ ржУ ржорж┐ржХрж╛ ржЙрзОржкрж╛ржжржирзЗ рж╕ржорзГржжрзНржзред ржЗрж╕рзНржкрж╛ржд, ржмрж┐ржжрзНржпрзБрзО, ржмрж╕рзНрждрзНрж░ рж╢рж┐рж▓рзНржк ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред", wildlife: "ржмрзЗрждрж▓рж╛ ржирзНржпрж╛рж╢ржирж╛рж▓ ржкрж╛рж░рзНржХ, ржжрж╛рж▓ржорж╛ ржЕржнржпрж╝рж╛рж░ржгрзНржп, рж╣рж╛ржЬрж╛рж░рзАржмрж╛ржЧ ржЕржнржпрж╝рж╛рж░ржгрзНржпрзЗ рж╣рж╛рждрж┐, ржмрж╛ржШ, рж╣рж░рж┐ржг ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред" },
            or: { intro: "рмЭрм╛рм░рмЦрмгрнНрмб рмкрнВрм░рнНрмм рмнрм╛рм░рмдрм░ рмПрмХ рмЦрмгрм┐рмЬ рм╕рморнГрмжрнНрмз рм░рм╛рмЬрнНрнЯ, рмпрнЗрмЙрмБрмарм╛рм░рнЗ рмЬрмЩрнНрмЧрм▓, рмкрнНрм░рмкрм╛рмд рмПрммрмВ рмЖрмжрм┐рммрм╛рм╕рнА рм╕рмВрм╕рнНрмХрнГрмдрм┐ рм░рм╣рм┐рмЫрм┐ред рмкрнНрм░рм╕рм┐рмжрнНрмз рм╕рнНрмерм╛рми: рмирнЗрмдрм░рм╣рм╛рмЯ, рмкрмдрнНрм░рм╛рмЯрнБ, рм╣рнБрмгрнНрмбрнНрм░рнБ рмкрнНрм░рмкрм╛рмд, рммрнЗрмЯрм▓рм╛ рмирнНрнЯрм╛рм╕рмирм╛рм▓ рмкрм╛рм░рнНрмХ, рмжрнЗрмУрмШрм░ред", culture: "рмЭрм╛рм░рмЦрмгрнНрмб рм╕рм░рм╣рнБрм▓, рмХрм░рнНрморм╛, рм╕рнЛрм╣рм░рм╛рмЗ рмкрм░рнНрмм, рмЫрнМ рмирнГрмдрнНрнЯ, рм╣рм╕рнНрмдрм╢рм┐рм│рнНрмк рмПрммрмВ рм▓рнЛрмХрм╕рмЩрнНрмЧрнАрмд рмкрм╛рмЗрмБ рмкрнНрм░рм╕рм┐рмжрнНрмзред", food: "рмкрнНрм░рм╕рм┐рмжрнНрмз рмЦрм╛рмжрнНрнЯ: рмарнЗрмХрнБрмЖ, рмзрнБрм╕рнНрмХрм╛, рм░рнБрмЧрнНрм░рм╛ рмдрм░рмХрм╛рм░рм┐, рмЪрм┐рм▓рнНрмХрм╛ рм░рнЛрмЯрм┐, рм╣рм╛рмгрнНрмбрм┐рмЖред" },
            mr: { intro: "рдЭрд╛рд░рдЦрдВрдб рд╣рд╛ рдкреВрд░реНрд╡ рднрд╛рд░рддрд╛рддреАрд▓ рдЦрдирд┐рдЬрд╕рдореГрджреНрдз рд░рд╛рдЬреНрдп рдЖрд╣реЗ. рдпреЗрдереЗ рдЬрдВрдЧрд▓, рдзрдмрдзрдмреЗ рдЖрдгрд┐ рдЖрджрд┐рд╡рд╛рд╕реА рд╕рдВрд╕реНрдХреГрддреА рдЖрдврд│рддреЗ. рдкреНрд░рдореБрдЦ рдард┐рдХрд╛рдгреЗ: рдиреЗрддрд░рд╣рд╛рдЯ, рдкрддрд░рд╛рддреБ, рд╣реБрдВрдбрд░реВ рдзрдмрдзрдмрд╛, рдмреЗрдЯрд▓рд╛ рд░рд╛рд╖реНрдЯреНрд░реАрдп рдЙрджреНрдпрд╛рди, рджреЗрд╡рдШрд░ред", culture: "рдЭрд╛рд░рдЦрдВрдб рд╕рд░рд╣реБрд▓, рдХрд░рдорд╛, рд╕реЛрд╣рд░рд╛рдп рдЙрддреНрд╕рд╡, рдЫрдК рдиреГрддреНрдп рдЖрдгрд┐ рд▓реЛрдХрдХрд▓рд╛ рд╕рд╛рдареА рдкреНрд░рд╕рд┐рджреНрдз рдЖрд╣реЗред", food: "рд▓реЛрдХрдкреНрд░рд┐рдп рдЦрд╛рджреНрдпрдкрджрд╛рд░реНрде: рдареЗрдХреБрдЖ, рдзреБрд╕рдХрд╛, рд░реБрдЧрд░рд╛ рднрд╛рдЬреА, рдЪрд┐рд▓рдХрд╛ рд░реЛрдЯреА, рд╣рд╛рдВрдбрд┐рдпрд╛ред" },
            ta: { intro: "роЬро╛ро░рпНроХрогрпНроЯрпН роЗроирпНродро┐ропро╛ро╡ро┐ройрпН роХро┐ро┤роХрпНроХрпБрокрпН рокроХрпБродро┐ропро┐ро▓рпН роЙро│рпНро│ роТро░рпБ роХройро┐роороЪрпН роЪрпЖро▓рпНро╡рооро┐роХрпНроХ рооро╛роиро┐ро▓роорпН. роЗродрпБ роХро╛роЯрпБроХро│рпН, роЕро░рпБро╡ро┐роХро│рпН рооро▒рпНро▒рпБроорпН рокро┤роЩрпНроХрпБроЯро┐ропро┐ройро░рпН роХро▓ро╛роЪрпНроЪро╛ро░роорпН роХрпКрогрпНроЯродрпБ. рокрпБроХро┤рпНрокрпЖро▒рпНро▒ роЗроЯроЩрпНроХро│рпН: роирпЖроЯро░рпНро╣ро╛роЯрпН, рокро╛родрпНро░ро╛роЯрпНроЯрпБ, ро╣рпБрогрпНроЯрпНро░рпБ роЕро░рпБро╡ро┐, рокрпЖроЯрпНро▓ро╛ родрпЗроЪро┐роп рокрпВроЩрпНроХро╛, родрпЗро╡роХро░рпН.", culture: "роЬро╛ро░рпНроХрогрпНроЯрпН роЪро░рпНро╣рпБро▓рпН, роХро░рпНрооро╛, роЪрпКро╣ро░рпИ рокрпЛройрпНро▒ родро┐ро░рпБро╡ро┐ро┤ро╛роХрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЪрпМ роироЯройроорпН, роХрпИро╡ро┐ройрпИрокрпН рокрпКро░рпБроЯрпНроХро│рпН, роиро╛роЯрпНроЯрпБрокрпНрокрпБро▒ роЗроЪрпИроХрпНроХро╛роХ рокро┐ро░рокро▓рооро╛ройродрпБ.", food: "рокро┐ро░рокро▓рооро╛рой роЙрогро╡рпБроХро│рпН: родрпЖроХрпБро╡ро╛, родрпБро╕рпНроХро╛, ро░рпБроХрпНро░ро╛ роХро▒ро┐, роЪро┐ро▓рпНроХро╛ ро░рпКроЯрпНроЯро┐, ро╣ро╛рогрпНроЯро┐ропро╛." }
          };

          // populate available voices in the selector
          function populateVoices(){
            const voices = speechSynthesis.getVoices() || [];
            // clear but keep default option
            const selected = voiceSelect.value;
            voiceSelect.innerHTML = '<option value="">(default voice)</option>';
            voices.forEach(v=>{
              try{
                const opt = document.createElement('option');
                opt.value = v.name + '||' + v.lang;
                opt.textContent = v.name + ' ('+v.lang+')';
                voiceSelect.appendChild(opt);
              }catch(e){/*ignore malformed voice*/}
            });
            // restore selection if possible
            if(selected) voiceSelect.value = selected;
          }

          speechSynthesis.onvoiceschanged = populateVoices;
          // try to populate now (some browsers populate asynchronously)
          populateVoices();

          function speak(text){
            if(!('speechSynthesis' in window)) return; // unsupported
            const utter = new SpeechSynthesisUtterance(text);
            const lang = langSelect.value || 'en-IN';
            utter.lang = lang;
            const selectedVoice = voiceSelect.value;
            if(selectedVoice){
              const [name, vlang] = selectedVoice.split('||');
              const match = speechSynthesis.getVoices().find(v=>v.name===name && v.lang===vlang);
              if(match) utter.voice = match;
            } else {
              // try to find voice by language prefix
              const pref = lang.split('-')[0];
              const match = speechSynthesis.getVoices().find(v=>v.lang && v.lang.startsWith(pref));
              if(match) utter.voice = match;
            }
            try{ speechSynthesis.cancel(); speechSynthesis.speak(utter); }catch(e){/*ignore errors*/}
          }

          function addMessage(text, sender){
            const div = document.createElement('div');
            div.className = 'bubble ' + (sender==='user' ? 'user' : 'bot');
            div.textContent = text;
            messages.appendChild(div);
            // small delay ensures rendering before scroll
            requestAnimationFrame(()=>{ messages.scrollTop = messages.scrollHeight; });
          }

          function detectLangCode(){
            const v = langSelect.value || 'en-IN';
            if(v.startsWith('hi')) return 'hi';
            if(v.startsWith('bn')) return 'bn';
            if(v.startsWith('or')) return 'or';
            if(v.startsWith('mr')) return 'mr';
            if(v.startsWith('ta')) return 'ta';
            return 'en';
          }

          function generateReply(text){
            const lang = detectLangCode();
            let reply = (info[lang] && info[lang].intro) || info.en.intro;
            if(/culture|рд╕рдВрд╕реНрдХреГрддрд┐|рж╕ржВрж╕рзНржХрзГрждрж┐|рм╕рмВрм╕рнНрмХрнГрмдрм┐|рд╕рдВрд╕реНрдХреГрддреА|роХро▓ро╛роЪрпНроЪро╛ро░роорпН/i.test(text)) reply = info[lang].culture || reply;
            else if(/food|рднреЛрдЬрди|ржЦрж╛ржмрж╛рж░|рмЦрм╛рмжрнНрнЯ|рдЕрдиреНрди|роЙрогро╡рпБ/i.test(text)) reply = info[lang].food || reply;
            else if(/economy|рдЕрд░реНрдерд╡реНрдпрд╡рд╕реНрдерд╛|ржЕрж░рзНржержирзАрждрж┐|рдЕрд░реНрде/i.test(text)) reply = (info[lang].economy || info[lang].intro || reply);
            else if(/wildlife|рд╡рдиреНрдпрдЬреАрд╡|ржмржирзНржпржкрзНрж░рж╛ржгрзА|рмкрнНрм░рм╛рмгрнА/i.test(text)) reply = (info[lang].wildlife || info[lang].intro || reply);
            return reply;
          }

          function sendMessage(){
            const text = userInput.value.trim();
            if(!text) return;
            addMessage(text,'user');
            const reply = generateReply(text);
            // small simulated delay for bot response
            setTimeout(()=>{ addMessage(reply,'bot'); speak(reply); }, 350);
            userInput.value='';
            userInput.focus();
          }

          // keyboard: Enter to send
          userInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); sendMessage(); } });
          sendBtn.addEventListener('click', sendMessage);

          // initial greeting
          setTimeout(()=>{ addMessage('Hello! I can tell you about Jharkhand тАФ try asking about culture, food, wildlife, or economy.', 'bot'); }, 250);
        });
      </script>
    </body>
    </html>